{
  "entities": {
    "App": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "App",
      "type": "object",
      "description": "Represents an application listed on the AppVerse Hub.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the App entity."
        },
        "name": {
          "type": "string",
          "description": "The name of the application."
        },
        "shortDescription": {
          "type": "string",
          "description": "A brief description of the application."
        },
        "longDescription": {
          "type": "string",
          "description": "A detailed description of the application."
        },
        "version": {
          "type": "string",
          "description": "The version number of the application."
        },
        "size": {
          "type": "string",
          "description": "The size of the application file."
        },
        "downloadLink": {
          "type": "string",
          "description": "URL for downloading the application.",
          "format": "uri"
        },
        "telegramLink": {
          "type": "string",
          "description": "URL for the application's Telegram channel.",
          "format": "uri"
        },
        "websiteLink": {
          "type": "string",
          "description": "URL for the application's website.",
          "format": "uri"
        },
        "tag": {
          "type": "string",
          "description": "Tag indicating the application's status (e.g., NEW, UPDATED, HOT)."
        },
        "iconUrl": {
          "type": "string",
          "description": "URL for the application's icon image.",
          "format": "uri"
        },
        "isVisible": {
          "type": "boolean",
          "description": "Indicates whether the app is visible on the website."
        },
        "downloadCount": {
          "type": "number",
          "description": "The number of times the application has been downloaded."
        }
      },
      "required": [
        "id",
        "name",
        "shortDescription",
        "version",
        "size",
        "downloadLink",
        "isVisible",
        "downloadCount"
      ]
    },
    "AdminUser": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "AdminUser",
      "type": "object",
      "description": "Represents an administrator user with access to the admin panel. This is a simplified representation; actual authentication should be handled by Firebase Auth or similar.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the AdminUser entity."
        },
        "username": {
          "type": "string",
          "description": "Admin username."
        }
      },
      "required": [
        "id",
        "username"
      ]
    },
    "DeveloperProfile": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "DeveloperProfile",
      "type": "object",
      "description": "Represents the developer's public profile information.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier, matching the user's auth UID."
        },
        "name": {
          "type": "string",
          "description": "The developer's name."
        },
        "username": {
          "type": "string",
          "description": "The developer's username or handle."
        },
        "avatar": {
          "type": "string",
          "description": "An identifier for the developer's profile picture, linking to a placeholder image."
        },
        "bio": {
          "type": "string",
          "description": "A short biography for the developer."
        },
        "quote": {
          "type": "string",
          "description": "A favorite quote of the developer."
        },
        "skills": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "A list of the developer's skills and technologies."
        },
        "education": {
          "type": "string",
          "description": "The developer's educational background."
        },
        "location": {
          "type": "string",
          "description": "The developer's location."
        },
        "birthday": {
          "type": "string",
          "description": "The developer's birthday."
        }
      },
      "required": [
        "id"
      ]
    },
    "WebsiteSettings": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "WebsiteSettings",
      "type": "object",
      "description": "Represents global website settings, primarily social media links.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the WebsiteSettings entity. There should only be one of these with the ID 'global'."
        },
        "whatsappChannelLink": {
          "type": "string",
          "description": "URL for the WhatsApp channel button.",
          "format": "uri"
        },
        "telegramChannelLink": {
          "type": "string",
          "description": "URL for the Telegram channel button.",
          "format": "uri"
        },
        "instagramLink": {
          "type": "string",
          "description": "URL for the Instagram button.",
          "format": "uri"
        },
        "youtubeLink": {
          "type": "string",
          "description": "URL for the YouTube button.",
          "format": "uri"
        }
      },
      "required": [
        "id"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/apps/{appId}",
        "definition": {
          "entityName": "App",
          "schema": {
            "$ref": "#/backend/entities/App"
          },
          "description": "Stores information about each application listed on the hub.",
          "params": [
            {
              "name": "appId",
              "description": "Unique identifier for the application."
            }
          ]
        }
      },
      {
        "path": "/roles_admin/{adminId}",
        "definition": {
          "entityName": "AdminUser",
          "schema": {
            "$ref": "#/backend/entities/AdminUser"
          },
          "description": "Collection to store admin user IDs. Existence of a document implies admin role.",
          "params": [
            {
              "name": "adminId",
              "description": "The unique identifier of the admin user (same as their Firebase Auth UID)."
            }
          ]
        },
        "documents": {
          "KFLoDvP3bPfCu3U9y2WTWboME9j1": {
            "username": "ashwincharan744"
          }
        }
      },
      {
        "path": "/developer_profiles/{userId}",
        "definition": {
          "entityName": "DeveloperProfile",
          "schema": {
            "$ref": "#/backend/entities/DeveloperProfile"
          },
          "description": "Stores the public profile for a single developer. The document ID should match the user's Firebase Auth UID.",
          "params": [
             {
              "name": "userId",
              "description": "The unique identifier of the user (same as their Firebase Auth UID)."
            }
          ]
        }
      },
      {
        "path": "/website_settings/global",
        "definition": {
          "entityName": "WebsiteSettings",
          "schema": {
            "$ref": "#/backend/entities/WebsiteSettings"
          },
          "description": "Stores global website settings. There should only be a single document with ID 'global'.",
          "params": []
        }
      }
    ],
    "reasoning": "This Firestore structure separates concerns more effectively. Public app data is in `/apps`. Admin roles are managed in `/roles_admin`. Site-wide settings like social links are in a singleton document `/website_settings/global`. Crucially, the developer's personal profile data is now in its own collection `/developer_profiles/{userId}`, allowing for specific security rules where a user can only edit their own profile. This resolves the previous permission issues."
  }
}
